<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copy TodoMate</title>
    <style>
        body
        {
            width: 1000px;
            margin-left: auto; margin-right: auto;
        }
        /* header */
        #header { height: 60px; }
        div span
        {
            font-size: 20pt;
            cursor: pointer;
            margin: 10px;
            vertical-align: center;
        }
        .rightSpan { float: right; }
        .leftSpan { float: left; }

        /* nav */
        #nav { height: 100px; }
        #navProImg 
        {
            width: 60px; height: 60px;
            border-radius: 100px;
            border: 1px rgb(194, 194, 194) solid;
        }
        #nav div
        {
            float: left;
            position: relative;
        }
        #nav div p 
        {
            font-weight: bold;
            margin: 0px;
            text-align: center;
        }
        #profileDiv 
        {
            width: 60px; height: 60px;
            border-radius: 100px;
            border: 1px rgb(194, 194, 194) solid;
            background-color: rgb(205, 206, 216);
            color: rgb(81, 83, 104);
            text-align: center;
            font-size: 20pt;
            margin-left: 10px;
            line-height: 55px;
        }
        
        /* leftBody */
        #leftBody 
        {
            width: 49%;
            background-color: pink;
            float: left;
        }
        #leftProImg
        {
            width: 75px; height: 75px;
            border-radius: 100px;
            border: 1px rgb(194, 194, 194) solid;
            float: left;
        }
        #leftPro { height: 75px; }
        #leftPro p { float: right; font-size: 20pt; margin: 0px; line-height: 77px; margin-right: 10px;}
        #leftPro b { float: left; line-height: 77px; margin-left: 10px; font-size: 13pt;}

        #leftDate
        {
            margin-top: 10px;
            height: 25px;
        }
        #leftDate b 
        {
            font-size: 12pt;
            float: left;
            margin-right: 5px;
        }
        #leftDate span 
        {
            font-size: 12pt;
            margin: 0px;
        }
        .changeMon { float:right;}
        .changeMon button { margin-right: 10px;}
        
        
        #leftCalender
        {
            height: 350px;
            margin-top: 10px;
        }
        #leftCalender table
        {
            width: 100%; height: 350px;
            text-align: center;
        }
        .today { background-color: skyblue;}
        #leftCalender td
        {
            background-color: white;
            border-radius: 50px;
        }

        /* rightBody */
        #rightBody
        {
            width: 48%; height: auto;
            background-color: skyblue;
            float: right;
            padding: 5px;
        }
        #rightBody span
        {
            margin: 0px;
            font-size: 12pt;
        }
        .sChildDiv
        {
            width: 160px;
            height: 30px;
            margin-bottom: 10px;
            background-color: aliceblue;
            border-radius: 10px;
        }
        #rightBody > div > div > span:nth-child(1)
        {
            margin-left: 10px;
        }
        #rightBody > div > div > span
        {
            margin: 0px;
            line-height: 30px;
        }
        #rightBody > div > div > button
        {
            width: 20px; padding: 0px;
            text-align: center;
            margin-left: 10px;
        }

        #rigthLast
        {
            height: 30px;
        }
        #rigthLast span
        {
            padding: 0 8px;
            height: 30px;
            border-radius: 10px;
            line-height: 30px;
        }
        #rigthLast span:nth-child(1)
        {
            float: left;
            background-color: rgb(198, 239, 255);
        }
        #rigthLast span:nth-child(2)
        {
            float: right;
            background-color: white;
        }

    </style>
    <script>
        // ì˜¤ëŠ˜ ë‚ ì§œ ì €ì¥
        let today = new Date();

        // í˜ì´ì§€ ë¡œë“œ í›„ ì‹¤í–‰í•  ì´ë²¤íŠ¸
        window.onload = () => {
            // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œë“¤ì— ì ìš©ë˜ì§€ ì•ŠìŒ.
            // let tds = document.getElementsByTagName("td");          
            
            // tbodyì— ì´ë²¤íŠ¸ ì ìš© 
            // addEventListner : í´ë¦­ë˜ì—ˆì„ë•Œ íƒ€ê¹ƒì˜ íƒœê·¸ë„¤ì„ì´ tdë©´ ë°°ê²½ìƒ‰ìƒ ë³€ê²½ 
            document.getElementById("calenderTbody").addEventListener("click", function(e){
                if(e.target.tagName == "TD"){
                    clickedTd(e.target);
                }
            });
        }

        // build Calender 
        function buildCalendar(){
            // tr í–‰
            let row = null;
            // cnt : ë‹¬ë ¥ì— í˜„ì¬ê¹Œì§€ ì¶”ê°€ëœ ë‚ ì§œ ì…€ì˜ ê°œìˆ˜
            let cnt = 0;

            // tbody íƒœê·¸
            let cTBody = document.getElementById("calenderTbody");
            // ì œëª©(ì˜¤ëŠ˜ ë‚ ì§œ)
            let cTitle = document.getElementById("leftDate").children[0];
            // ì œëª© innerHTML
            cTitle.innerHTML = today.getFullYear()+"ë…„ "+(today.getMonth()+1)+"ì›”";
            
            
            let firstDate = new Date(today.getFullYear(), today.getMonth(), 1);   
            let lastDate = new Date(today.getFullYear(), today.getMonth()+1, 0);   

            // ì‘ì„±í•  í…Œì´ë¸”ì„ ì´ˆê¸°í™”
            // ì´ë¶€ë¶„ í•˜ì§€ ì•Šìœ¼ë©´ prev, next í–ˆì„ ë•Œ ì‚­ì œë˜ì§€ ì•Šê³  ì…€ì´ ê³„ì† ìƒê¹€
            while(cTBody.rows.length> 0){    // ê³ ì •í–‰ì„ tbodyì— ë„£ì—ˆìŒ. í–‰ì´ ë‚¨ì•„ìˆìœ¼ë©´ ì‚­ì œ.
                cTBody.deleteRow(cTBody.rows.length-1);            // ê°€ì¥ ë§ˆì§€ë§‰ í–‰ì„ ì‚­ì œí•¨
            }

            // ë‹¬ì˜ ì²« ë‚ ê¹Œì§€ ë¹ˆ ì…€ì„ ìƒì„±
            row = cTBody.insertRow();
            for(i=0;i<firstDate.getDay();i++){
                cell = row.insertCell();
                cnt++;
            }

            // ë³¸ê²©ì ìœ¼ë¡œ ë‹¬ë ¥ì— ìš”ì¼ ì±„ìš°ê¸°
            for(i=1;i<=lastDate.getDate();i++){
                cell = row.insertCell();
                cnt++;

                cell.setAttribute('id', i);         // ì…€ì— ID ë¶€ì—¬ (ë‚ ì§œ 1, 2, 3...)
                cell.innerHTML = i;                 // ë‚ ì§œ ìˆ«ì ì¶œë ¥ 
                cell.align = "center";              // ê°€ìš´ë° ì •ë ¬

                if(cnt%7 == 0){ 
                    // ì „ì²´ ì…€ ê°œìˆ˜ 7ê°œë§ˆë‹¤ ì¤„ ë°”ê¿ˆ                    
                    row = cTBody.insertRow();
                }
            }

            // ë‹¬ë ¥ì˜ ë§ˆì§€ë§‰ ë‚  ë’¤ ë¹ˆì¹¸ í–‰ìœ¼ë¡œ ì±„ìš°ê¸°
            if(cnt%7 != 0){
                for(i=0;i<7-(cnt%7);i++){
                    cell = row.insertCell();
                }
            }

            // ì˜¤ëŠ˜ì— í•´ë‹¹í•˜ëŠ” tdì— default ìƒ‰ìƒ ì±„ìš°ê¸°
            let defaultTd = document.getElementById(today.getDate());
            console.log(defaultTd);
            defaultTd.style.backgroundColor="skyblue";
        }
        // prev Calender (ì´ì „ ë‹¬)
        function prevCalendar(){
            today = new Date(today.getFullYear(), today.getMonth()-1, today.getDate());
            buildCalendar();
        }
        // next Calender (ë‹¤ìŒ ë‹¬)
        function nextCalendar(){
            today = new Date(today.getFullYear(), today.getMonth()+1, today.getDate());
            buildCalendar();
        }
        // default Month (í˜„ì¬ ë‚ ì§œë¡œ ì´ë™)
        function defaultCalender(){
            today = new Date();
            buildCalendar();
        }
        
        // td í´ë¦­ ì´ë²¤íŠ¸ - ë°°ê²½ ìƒ‰ìƒ ë³€ê²½
        function clickedTd(td)
        {
            // console.log("click", td);
            let tds = document.getElementsByTagName("td");
            for(let i=0; i<tds.length; i++)
            {
                if(tds[i] == td)
                {
                    tds[i].style.backgroundColor = "skyblue";
                    // todayì˜ dateë¥¼ ì„ íƒí•œ tdì˜ ì•„ì´ë””(ë‚ ì§œ ê°’)ë¡œ ë³€ê²½. 
                    today.setDate(td.id);
                }
                else
                {
                    tds[i].style.backgroundColor = "white";
                }
            }
        }
        // ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ ëˆ„ë¥´ë©´ í•  ì¼ ì¶”ê°€
        function button(btn)
        {
            console.log("button click!", btn);
            
            // btnì˜ parent "div"ì˜ í˜•ì œë¡œ ìš”ì†Œ ì¶”ê°€ - ul ìš”ì†Œ ìƒì„±í•´ì„œ ì¶”ê°€
            let ul = document.createElement("ul");
            
            let sectionDiv = btn.parentNode.parentNode;
            console.log(sectionDiv);

            let input = document.createElement("input");
            input.placeholder = "í•  ì¼ ì¶”ê°€";

            ul.append(input);

            sectionDiv.append(ul);

        }
    </script>
</head>
<body>
    <!-- header -->
    <div id="header">
        <span class="leftSpan">â¤</span>
        <span class="rightSpan">ğŸ“†</span>
        <span class="rightSpan">âœ‰</span>
        <span class="rightSpan">ğŸ’¬</span>
    </div>
    
    <!-- nav -->
    <div id="nav">
        <div>
            <img id="navProImg" src="/1_front/1_html/sample/images/img02.PNG">
            <p>me</p>
        </div>
        <div>
            <div id="profileDiv">
                >
            </div>
        </div>
    </div>
    <!-- leftBody -->
    <div id="leftBody">
        <div id="leftPro">
            <img id="leftProImg" src="/1_front/1_html/sample/images/img02.PNG">
            <b>me</b>
            <p>ğŸ˜‰</p>
        </div>
        <div id="leftDate">
            <b onclick="defaultCalender()" style="cursor: pointer;">2025ë…„ 5ì›”</b>
            <span>âœ…</span>
            <span id="checkVal">0</span>
            <span class="changeMon">
                <button onclick="prevCalendar()"> â—€ </button>
                <button onclick="nextCalendar()"> â–¶ </button>
            </span>        
        </div>
        <div id="leftCalender">
            <table>
                <thead>
                    <tr>
                        <th style="color: red;">ì¼</th>
                        <th>ì›”</th>
                        <th>í™”</th>
                        <th>ìˆ˜</th>
                        <th>ëª©</th>
                        <th>ê¸ˆ</th>
                        <th style="color: blue;">í† </th>
                    </tr>
                </thead>
                <tbody id="calenderTbody">
                    <script type="text/javascript">buildCalendar();</script>
                </tbody>
            </table>
        </div>
    </div>
    <!-- rightBody -->
    <div id="rightBody">
        <div id="section1">
            <div class="sChildDiv">
                <span>ğŸ”’</span>
                <span>ì¹´í…Œê³ ë¦¬ 1</span>
                <button onclick="button(this)" value="cate1">+</button>
            </div>
        </div>
        <br>
        <div id="section2">
            <div class="sChildDiv">
                <span>ğŸ”’</span>
                <span>ì¹´í…Œê³ ë¦¬ 2</span>
                <button onclick="button(this)" value="cate2">+</button>
            </div>
        </div>
        <br>
        <div id="section3">
            <div class="sChildDiv">
                <span>ğŸ”’</span>
                <span>ì¹´í…Œê³ ë¦¬ 3</span>
                <button onclick="button(this)" value="cate3">+</button>
            </div>
        </div>
        <hr>
        <div id="rigthLast">
            <span>âœ¨AI í•  ì¼ ìƒì„± </span>
            <span>ğŸ“ƒë¦¬ìŠ¤íŠ¸ ë©”ë‰´ </span>
        </div>
    </div>
</body>
</html>